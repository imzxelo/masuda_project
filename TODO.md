# Singer's Challenge Frontend - 実装計画書

## プロジェクト概要
ボーカルスクール向けの採点・フィードバックシステムのフロントエンド開発計画

## 実装フェーズ

### Phase 1: 基盤構築 (高優先度)
**目標**: プロジェクトの基本構造とSupabase接続の確立

#### 1.1 プロジェクト構造の作成 [P1]
- [ ] `src/`ディレクトリ構造の作成
- [ ] `src/app/`ディレクトリ（Next.js App Router）
- [ ] `src/components/`ディレクトリ（コンポーネント）
- [ ] `src/lib/`ディレクトリ（ユーティリティ）
- [ ] `src/hooks/`ディレクトリ（カスタムフック）
- [ ] `src/types/`ディレクトリ（型定義）

#### 1.2 基本設定ファイル [P1]
- [ ] Next.js設定ファイル (`next.config.js`)
- [ ] PostCSS設定 (`postcss.config.js`)
- [ ] ESLint設定の調整
- [ ] Tailwind CSS初期設定

#### 1.3 Supabase接続設定 [P1]
- [ ] Supabaseクライアント設定 (`src/lib/supabase/client.ts`)
- [ ] 環境変数の検証機能
- [ ] 接続テスト機能

#### 1.4 型定義 [P1]
- [ ] 評価項目の型定義 (`src/types/evaluation.ts`)
- [ ] 講師情報の型定義 (`src/types/instructor.ts`)
- [ ] 生徒情報の型定義 (`src/types/student.ts`)
- [ ] API レスポンスの型定義 (`src/types/api.ts`)

---

### Phase 2: コアコンポーネント開発 (高優先度)
**目標**: 採点システムの核となるUIコンポーネントの実装

#### 2.1 レーダーチャートコンポーネント [P1]
- [ ] Rechartsを使用したレーダーチャート実装
- [ ] 4項目評価の可視化（音程、リズム、表現、テクニック）
- [ ] リアルタイム更新機能
- [ ] レスポンシブ対応

#### 2.2 評価入力コンポーネント [P1]
- [ ] スライダー入力UI（各項目0-100点）
- [ ] 入力値のリアルタイム反映
- [ ] 入力値の検証機能
- [ ] アクセシビリティ対応

#### 2.3 講師認証コンポーネント [P2]
- [ ] 講師選択UI（10名の講師から選択）
- [ ] 簡易認証システム
- [ ] セッション管理

#### 2.4 共通UIコンポーネント [P2]
- [ ] ボタンコンポーネント
- [ ] 入力フィールドコンポーネント
- [ ] カードコンポーネント
- [ ] ローディングスピナー
- [ ] トーストメッセージ

---

### Phase 3: 状態管理とAPI連携 (中優先度)
**目標**: データフローとバックエンド連携の実装

#### 3.1 状態管理 [P1]
- [ ] Zustand storeの設定
- [ ] 評価データの状態管理
- [ ] 講師セッション管理
- [ ] UI状態管理（ローディング、エラー）

#### 3.2 Supabase API連携 [P1]
- [ ] 評価データの取得API (`src/lib/api/evaluations.ts`)
- [ ] 評価データの保存API
- [ ] 講師データの取得API (`src/lib/api/instructors.ts`)
- [ ] 生徒データの取得API (`src/lib/api/students.ts`)

#### 3.3 n8n Webhook連携 [P1]
- [ ] Webhook送信機能 (`src/lib/api/webhook.ts`)
- [ ] 評価完了時の自動送信
- [ ] 送信失敗時のリトライ機能
- [ ] 送信ステータスの管理

#### 3.4 カスタムフック [P2]
- [ ] 評価データ操作フック (`useEvaluation`)
- [ ] 講師認証フック (`useInstructor`)
- [ ] API呼び出しフック (`useApi`)
- [ ] ローカルストレージフック (`useLocalStorage`)

---

### Phase 4: メインページ実装 (中優先度)
**目標**: 実際の採点インターフェースの構築

#### 4.1 採点ページ [P1]
- [ ] メインの採点インターフェース (`src/app/evaluation/page.tsx`)
- [ ] 生徒選択機能
- [ ] 評価項目入力セクション
- [ ] リアルタイムチャート表示
- [ ] 採点完了・送信機能

#### 4.2 講師ダッシュボード [P2]
- [ ] 講師認証ページ (`src/app/instructor/page.tsx`)
- [ ] 評価履歴表示
- [ ] 統計情報表示

#### 4.3 設定ページ [P3]
- [ ] システム設定画面
- [ ] 環境変数確認画面
- [ ] 接続テスト画面

---

### Phase 5: エラーハンドリングと最適化 (低優先度)
**目標**: システムの安定性とユーザー体験の向上

#### 5.1 エラーハンドリング [P2]
- [ ] グローバルエラーハンドラー
- [ ] API エラーの適切な処理
- [ ] ユーザーフレンドリーなエラーメッセージ
- [ ] エラー境界コンポーネント

#### 5.2 パフォーマンス最適化 [P3]
- [ ] コンポーネントの遅延読み込み
- [ ] 画像最適化
- [ ] バンドルサイズ最適化
- [ ] キャッシュ戦略

#### 5.3 テスト実装 [P3]
- [ ] ユニットテスト（Jest）
- [ ] コンポーネントテスト（React Testing Library）
- [ ] E2Eテスト（Playwright）

---

## 優先度定義
- **P1 (高優先度)**: MVP実現に必須の機能
- **P2 (中優先度)**: 基本機能の拡張
- **P3 (低優先度)**: 品質向上・最適化

## 推定工数
- Phase 1: 8-10時間
- Phase 2: 12-15時間
- Phase 3: 10-12時間
- Phase 4: 8-10時間
- Phase 5: 6-8時間

**総推定工数**: 44-55時間

## 依存関係
1. Phase 1完了後にPhase 2開始可能
2. Phase 2のレーダーチャート完了後にPhase 4の採点ページ開始可能
3. Phase 3のAPI連携完了後にPhase 4の完全な実装可能

## 次のアクション
1. ✅ 基本ファイル作成完了
2. 🔄 **現在**: Phase 1の実装開始
3. ⏳ プロジェクト構造の作成から着手

---

*最終更新: 2025-06-30*